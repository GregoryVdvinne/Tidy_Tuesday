colour = weak_text,
margin = margin(0, -8, 0, 10)),
axis.text.x = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.8),
colour = strong_text),
legend.position = "none",
text = element_text(colour = strong_text, lineheight = 1.1)
)
ggplot(myData, aes(x = Decade, y = ppi_ebay)) +
geom_bar(stat = "identity", position = "dodge",
fill = colColour, color = colColour) +
coord_flip() +
facet_wrap(Member ~ ., ncol = 1) +
labs(title = "Mutant Moneyball",
subtitle = "Do X-Men Comics Featuring Cyclops or Professor X Sell for More on Ebay?",
caption = paste(" <b>Data: </b> Mutant Moneyball Data",
" \n <b>Graphic: </b> Gregory Vander Vinne")) +
ylab("Average Price Per Issue Sold on Ebay") +
xlab("Decade in Which the Issue Was Released") +
geom_richtext(aes(label= round(ppi_ebay)),
hjust = 1,
nudge_y = if_else(myData$ppi_ebay > 15, 0, 15),
color = if_else(myData$ppi_ebay > 15, back_colour, colColour),
fill = NA,
label.colour = NA,
family = main_font,
fontface = "bold",
size = 4,
) +
theme_minimal(base_size = 10)+
theme(
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(4),
family = title_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 12, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.4),
family = "Roboto",
face = "bold",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.x = element_text(size = rel(1.3),
family = "Roboto",
colour = strong_text,
face = "bold",
margin = margin(4, 0, 4, 0)),
axis.title.y = element_text(size = rel(1.3),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, 0 , 0, 4)),
axis.text.y = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = weak_text,
margin = margin(0, -8, 0, 10)),
axis.text.x = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.8),
colour = strong_text),
legend.position = "none",
text = element_text(colour = strong_text, lineheight = 1.1)
)
scales::pal_grey()(10
)
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2")
# Clear memory
rm(list = ls(all=T))
# Load packages and install if not installed
if (!require("pacman")) install.packages("pacman")
pacman::p_load(
tidyverse,      # grammar of data and graphics
here,           # relative file pathways
showtext,       # custom fonts
ggtext,         # fancy text in plots
paletteer,      # color palettes and more
colorspace      # fancy stuff with colors
)
#Load and Wrangle Data ---------------------------------------------------------
# Read data set(s) directly from github
myData <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-03-19/mutant_moneyball.csv')
# Make all of the columns with '%' '$' etc to proper numerics
myData <- myData %>%
mutate(across(2:45, ~ if(is.character(.)) parse_number(.) else .)) %>%
filter(Member %in% c("scottSummers", "charlesXavier")) %>%
select(Member, PPI60s_ebay, PPI70s_ebay, PPI80s_ebay, PPI80s_ebay, PPI90s_ebay) %>%
pivot_longer(cols = -Member, names_to = "Decade", values_to = "ppi_ebay") %>%
mutate(
Decade  =  case_when(
Decade == "PPI60s_ebay" ~ "60s",
Decade == "PPI70s_ebay" ~ "70s",
Decade == "PPI80s_ebay" ~ "80s",
Decade == "PPI90s_ebay" ~ "90s"
),
Member = if_else(Member == "scottSummers", "Cyclops", "Professor X")
)
# Set Up Some Aesthetic Elements -----------------------------------------------
## Save color palette
colColour <- "#ffb400"
back_colour =  "grey10"
strong_text = "#a30303"
weak_text = darken(strong_text, 0.05)
## Fonts
# Title font
font_add_google("Bangers", "Bangers")
#Caption Font
font_add(family = "Roboto",
regular = "C:/USERS/GVAND/APPDATA/LOCAL/MICROSOFT/WINDOWS/FONTS/ROBOTO-REGULAR.ttf",
bold = "C:/USERS/GVAND/APPDATA/LOCAL/MICROSOFT/WINDOWS/FONTS/ROBOTO-BOLD.ttf")
# Make the fonts work
showtext_auto()
main_font = "Bangers"
# The Actual Plot --------------------------------------------------------------
ggplot(myData, aes(x = Decade, y = ppi_ebay)) +
geom_bar(stat = "identity", position = "dodge",
fill = colColour, color = colColour) +
coord_flip() +
facet_wrap(Member ~ ., ncol = 1) +
labs(title = "Mutant Moneyball",
subtitle = "Do X-Men Comics Featuring Cyclops or Professor X Sell for More on Ebay?",
caption = paste(" <b>Data: </b> Mutant Moneyball Data",
" \n <b>Graphic: </b> Gregory Vander Vinne")) +
ylab("Average Price Per Issue Sold on Ebay") +
xlab("Decade in Which the Issue Was Released") +
geom_richtext(aes(label= round(ppi_ebay)),
hjust = 1,
nudge_y = if_else(myData$ppi_ebay > 15, 0, 15),
color = if_else(myData$ppi_ebay > 15, back_colour, colColour),
fill = NA,
label.colour = NA,
family = main_font,
fontface = "bold",
size = 4,
) +
theme_minimal(base_size = 10)+
theme(
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(4),
family = title_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 12, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.4),
family = "Roboto",
face = "bold",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.x = element_text(size = rel(1.3),
family = "Roboto",
colour = strong_text,
face = "bold",
margin = margin(4, 0, 4, 0)),
axis.title.y = element_text(size = rel(1.3),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, 0 , 0, 4)),
axis.text.y = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = weak_text,
margin = margin(0, -8, 0, 10)),
axis.text.x = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.8),
colour = strong_text),
legend.position = "none",
text = element_text(colour = strong_text, lineheight = 1.1)
)
ggplot(myData, aes(x = Decade, y = ppi_ebay)) +
geom_bar(stat = "identity", position = "dodge",
fill = colColour, color = colColour) +
coord_flip() +
facet_wrap(Member ~ ., ncol = 1) +
labs(title = "Mutant Moneyball",
subtitle = "Do X-Men Comics Featuring Cyclops or Professor X Sell for More on Ebay?",
caption = paste(" <b>Data: </b> Mutant Moneyball Data",
" \n <b>Graphic: </b> Gregory Vander Vinne")) +
ylab("Average Price Per Issue Sold on Ebay") +
xlab("Decade in Which the Issue Was Released") +
geom_richtext(aes(label= round(ppi_ebay)),
hjust = 1,
nudge_y = if_else(myData$ppi_ebay > 15, 0, 15),
color = if_else(myData$ppi_ebay > 15, back_colour, colColour),
fill = NA,
label.colour = NA,
family = main_font,
fontface = "bold",
size = 4,
) +
theme_minimal(base_size = 10)+
theme(
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(4),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 12, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.4),
family = "Roboto",
face = "bold",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.x = element_text(size = rel(1.3),
family = "Roboto",
colour = strong_text,
face = "bold",
margin = margin(4, 0, 4, 0)),
axis.title.y = element_text(size = rel(1.3),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, 0 , 0, 4)),
axis.text.y = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = weak_text,
margin = margin(0, -8, 0, 10)),
axis.text.x = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.8),
colour = strong_text),
legend.position = "none",
text = element_text(colour = strong_text, lineheight = 1.1)
)
# Save plot
ggsave(here("2024-03-12/2024-03-12.png"))
# Save plot
ggsave(here("2024-03-19/2024-03-19.png"))
# For ggsave text sizing
showtext_opts(dpi = 300)
# Save plot
ggsave(here("2024-03-19/2024-03-19.png"))
# Clear memory
rm(list = ls(all=T))
# Load packages and install if not installed
if (!require("pacman")) install.packages("pacman")
pacman::p_load(
tidyverse,      # grammar of data and graphics
here,           # relative file pathways
showtext,       # custom fonts
ggtext,         # fancy text in plots
paletteer,      # color palettes and more
colorspace      # fancy stuff with colors
)
#Load and Wrangle Data ---------------------------------------------------------
# Read data set(s) directly from github
myData <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-03-19/mutant_moneyball.csv')
# Make all of the columns with '%' '$' etc to proper numerics
myData <- myData %>%
mutate(across(2:45, ~ if(is.character(.)) parse_number(.) else .)) %>%
filter(Member %in% c("scottSummers", "charlesXavier")) %>%
select(Member, PPI60s_ebay, PPI70s_ebay, PPI80s_ebay, PPI80s_ebay, PPI90s_ebay) %>%
pivot_longer(cols = -Member, names_to = "Decade", values_to = "ppi_ebay") %>%
mutate(
Decade  =  case_when(
Decade == "PPI60s_ebay" ~ "60s",
Decade == "PPI70s_ebay" ~ "70s",
Decade == "PPI80s_ebay" ~ "80s",
Decade == "PPI90s_ebay" ~ "90s"
),
Member = if_else(Member == "scottSummers", "Cyclops", "Professor X")
)
# Set Up Some Aesthetic Elements -----------------------------------------------
## Save color palette
colColour <- "#ffb400"
back_colour =  "grey10"
strong_text = "#a30303"
weak_text = darken(strong_text, 0.05)
## Fonts
# Title font
font_add_google("Bangers", "Bangers")
#Caption Font
font_add(family = "Roboto",
regular = "C:/USERS/GVAND/APPDATA/LOCAL/MICROSOFT/WINDOWS/FONTS/ROBOTO-REGULAR.ttf",
bold = "C:/USERS/GVAND/APPDATA/LOCAL/MICROSOFT/WINDOWS/FONTS/ROBOTO-BOLD.ttf")
# Make the fonts work
showtext_auto()
main_font = "Bangers"
# The Actual Plot --------------------------------------------------------------
ggplot(myData, aes(x = Decade, y = ppi_ebay)) +
geom_bar(stat = "identity", position = "dodge",
fill = colColour, color = colColour) +
coord_flip() +
facet_wrap(Member ~ ., ncol = 1) +
labs(title = "Mutant Moneyball",
subtitle = "Do X-Men Comics Featuring Cyclops or Professor X Sell for More on Ebay?",
caption = paste(" <b>Data: </b> Mutant Moneyball Data",
" \n <b>Graphic: </b> Gregory Vander Vinne")) +
ylab("Average Price Per Issue Sold on Ebay") +
xlab("Decade in Which the Issue Was Released") +
geom_richtext(aes(label= round(ppi_ebay)),
hjust = 1,
nudge_y = if_else(myData$ppi_ebay > 15, 0, 15),
color = if_else(myData$ppi_ebay > 15, back_colour, colColour),
fill = NA,
label.colour = NA,
family = main_font,
fontface = "bold",
size = 4,
) +
theme_minimal(base_size = 10)+
theme(
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(4),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 12, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.4),
family = "Roboto",
face = "bold",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.x = element_text(size = rel(1.3),
family = "Roboto",
colour = strong_text,
face = "bold",
margin = margin(4, 0, 4, 0)),
axis.title.y = element_text(size = rel(1.3),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, 0 , 0, 4)),
axis.text.y = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = weak_text,
margin = margin(0, -8, 0, 10)),
axis.text.x = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.8),
colour = strong_text),
legend.position = "none",
text = element_text(colour = strong_text, lineheight = 1.1)
)
# For ggsave text sizing
showtext_opts(dpi = 300)
# Save plot
ggsave(here("2024-03-19/2024-03-19.png"))
# Clear memory
rm(list = ls(all=T))
# Load packages and install if not installed
if (!require("pacman")) install.packages("pacman")
pacman::p_load(
tidyverse,      # grammar of data and graphics
tidytext,       # text mining with tidy data formats
here,           # relative file pathways
showtext,       # custom fonts
ggtext,         # fancy text in plots
paletteer,      # color palettes and more
ggraph,         # Network graphs
igraph,         # Network graphs also
colorspace      # fancy stuff with colors
)
######## Load and Wrangle Data ########
# Read data set(s) directly from github
myData <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-03-12/fiscal_sponsor_directory.csv')
myStopWords <- c("san", "fransisco", "pf", "pca", "3")
# Count bigrams
myBigrams <- myData %>%
unnest_tokens(bigram, description, token = "ngrams", n = 2) %>%
separate(bigram, c("word1", "word2"), sep = " ") %>%
filter(!word1 %in% c(stop_words$word, myStopWords),
!word2 %in% c(stop_words$word, myStopWords)) %>%
count(word1, word2, sort = TRUE) %>%
mutate(word1 = str_to_title(word1),
word2 = str_to_title(word2)) %>%
drop_na()
######## Set Up Some Aesthetic Elements ########
## Save color palette
myPal <- paletteer::paletteer_d("ggthemes::wsj_dem_rep")[2:3]
back_colour =  paletteer::paletteer_d("ggthemes::wsj_dem_rep")[1] %>% darken(0.1)
strong_text = lighten(myPal[2],0.2)
weak_text = darken(strong_text, 0.1)
## Fonts
# Title font
font_add_google("Roboto Slab", "roboto_slab")
font_add_google("Roboto", "roboto")
# Make the fonts work
showtext_auto()
title_font = "Robot Slab"
main_font = "Roboto"
## Define Theme
my_theme <- function(base_size = 10) {
theme_minimal(base_size = base_size)+
theme(
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(2.2),
family = title_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 12, 8)),
plot.subtitle = element_textbox_simple(size = rel(1.1),
family = main_font,
colour = weak_text,
margin = margin(0, 0, 12, 8)),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
axis.text = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = main_font,
hjust = c(0),
margin = margin(-5,0,0,8)),
text = element_text(colour = weak_text, lineheight = 1.1)
)
}
## The Actual Plot
# Save some text
mySubtitle <- "Fiscal sponsorship is a supportive partnership where a tax-exempt
nonprofit organization (the fiscal sponsor) provides another organization or
project financial support. The Fiscal Sponsor Directory provides information
about fiscal sponsors. This figure shows which words tend to be used next to one
another in the directory&apos;s descriptions of fiscal sponsors. &quot;Fiscal Sponsorship&quot; is the most
common word combination, while &quot;Non-profit Organization&quot; and &quot;Social Change&quot; are
second and third most common, respectively."
set.seed(97)
a <- grid::arrow(type = "closed", length = unit(.15, "inches"))
myBigrams %>%
filter(n > 6) %>%
graph_from_data_frame() %>%
ggraph(layout = "fr") +
geom_node_point(color = myPal[1], size = 5.5) +
geom_edge_link(aes(edge_alpha = log(n)),
color = weak_text,
show.legend = FALSE,
arrow = a) +
geom_node_text(aes(label = name),
family = main_font,
color = strong_text,
size = 3,
vjust = 2, hjust = 0.5) +
labs(title = "Sequential Words in Descriptions of Fiscal Sponsors",
subtitle = mySubtitle,
caption = paste("<b> Data: </b> Fiscal Sponsor Directory",
" \n <b> Graphic: </b> Gregory Vander Vinne")) +
my_theme()
# Save the plot
# For ggsave text sizing
showtext_opts(dpi = 300)
# Save plot
ggsave(here("2024-03-12/2024-03-12.png"))
