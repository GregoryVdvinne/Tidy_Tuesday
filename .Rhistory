plot.title = element_textbox_simple(size = rel(1.75),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 8, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.15),
family = "Roboto",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, -8, 0, 10)),
axis.text.y = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.25),
colour = strong_text),
text = element_text(colour = strong_text, lineheight = 1.1)
)
ggplot(emissions_agg, aes(x = year, y = emissions, fill = commodity)) +
geom_stream() +
geom_text(data = text_df, inherit.aes = FALSE,
color = strong_text,
label = paste("USSR Dissolution"),
aes(x = year, y = emissions)) +
geom_vline(xintercept = 1992,
color = weak_text) +
facet_wrap(parent_type ~., ncol = 1) +
scale_fill_manual(values = myPal, name = "") +
labs(title = "One Hundred Years of Emissions",
subtitle = my_subtitle) +
theme_minimal(base_size = 10) +
theme(
legend.position = "bottom",
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(1.75),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 8, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.15),
family = "Roboto",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, -8, 0, 10)),
axis.text.y = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.25),
colour = strong_text),
text = element_text(colour = strong_text, lineheight = 1.1)
)
ggplot(emissions_agg, aes(x = year, y = emissions, fill = commodity)) +
geom_stream() +
geom_text(data = text_df, inherit.aes = FALSE,
color = strong_text,
label = paste("USSR Dissolution"),
aes(x = year, y = emissions)) +
geom_vline(xintercept = 1992,
color = weak_text) +
facet_wrap(parent_type ~., ncol = 1) +
scale_fill_manual(values = myPal, name = "") +
labs(title = "One Hundred Years of Emissions",
subtitle = my_subtitle) +
theme_minimal(base_size = 10) +
theme(
legend.position = "bottom",
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(1.75),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 8, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.15),
family = "Roboto",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, -8, 0, 10)),
axis.text.y = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.25),
colour = strong_text),
text = element_text(colour = strong_text, lineheight = 1.1)
)
text_df <- data.frame(emissions = 6000,
year = 1999,
parent_type = "Investor-owned Company")
ggplot(emissions_agg, aes(x = year, y = emissions, fill = commodity)) +
geom_stream() +
geom_text(data = text_df, inherit.aes = FALSE,
color = strong_text,
label = paste("USSR Dissolution"),
aes(x = year, y = emissions)) +
geom_vline(xintercept = 1992,
color = weak_text) +
facet_wrap(parent_type ~., ncol = 1) +
scale_fill_manual(values = myPal, name = "") +
labs(title = "One Hundred Years of Emissions",
subtitle = my_subtitle) +
theme_minimal(base_size = 10) +
theme(
legend.position = "bottom",
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(1.75),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 8, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.15),
family = "Roboto",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, -8, 0, 10)),
axis.text.y = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.25),
colour = strong_text),
text = element_text(colour = strong_text, lineheight = 1.1)
)
text_df <- data.frame(emissions = 6000,
year = 2002,
parent_type = "Investor-owned Company")
ggplot(emissions_agg, aes(x = year, y = emissions, fill = commodity)) +
geom_stream() +
geom_text(data = text_df, inherit.aes = FALSE,
color = strong_text,
label = paste("USSR Dissolution"),
aes(x = year, y = emissions)) +
geom_vline(xintercept = 1992,
color = weak_text) +
facet_wrap(parent_type ~., ncol = 1) +
scale_fill_manual(values = myPal, name = "") +
labs(title = "One Hundred Years of Emissions",
subtitle = my_subtitle) +
theme_minimal(base_size = 10) +
theme(
legend.position = "bottom",
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(1.75),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 8, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.15),
family = "Roboto",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, -8, 0, 10)),
axis.text.y = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.25),
colour = strong_text),
text = element_text(colour = strong_text, lineheight = 1.1)
)
ggplot(emissions_agg, aes(x = year, y = emissions, fill = commodity)) +
geom_stream() +
geom_text(data = text_df, inherit.aes = FALSE,
color = strong_text,
label = paste("USSR Dissolution"),
aes(x = year, y = emissions)) +
geom_vline(xintercept = 1991,
color = weak_text) +
facet_wrap(parent_type ~., ncol = 1) +
scale_fill_manual(values = myPal, name = "") +
labs(title = "One Hundred Years of Emissions",
subtitle = my_subtitle) +
theme_minimal(base_size = 10) +
theme(
legend.position = "bottom",
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(1.75),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 8, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.15),
family = "Roboto",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, -8, 0, 10)),
axis.text.y = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.25),
colour = strong_text),
text = element_text(colour = strong_text, lineheight = 1.1)
)
ggplot(emissions_agg, aes(x = year, y = emissions, fill = commodity)) +
geom_stream() +
geom_text(data = text_df, inherit.aes = FALSE,
color = strong_text,
label = paste("USSR Dissolution"),
aes(x = year, y = emissions)) +
geom_vline(xintercept = 1991,
color = weak_text) +
facet_wrap(parent_type ~., ncol = 1) +
scale_fill_manual(values = myPal, name = "") +
labs(title = "One Hundred Years of Emissions",
subtitle = my_subtitle) +
theme_minimal(base_size = 10) +
theme(
legend.position = "bottom",
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(1.75),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 8, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.15),
family = "Roboto",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, -8, 0, 10)),
axis.text.y = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.25),
colour = strong_text),
text = element_text(colour = strong_text, lineheight = 1.1)
)
my_subtitle <- paste(subtitle = paste("This stream graph illustrates emissions from
122 of the world's largest",
# "<b><span style='color:", myPal[1], "'>cement,</span></b>",
# "<b><span style='color:", myPal[2], "'>coal,</span></b>",
# "<b><span style='color:", myPal[3], "'>natural gas,</span></b>",
# "and",
# "<b><span style='color:", myPal[4], "'>oil</span></b>",
"cement, coal, gas, and oil",
"producers from 1923 to 2022 by parent entity type. A
thicker 'stream' indicates more emissions. The large
decrease in the Nation State category after 1991 is the
result of the collapse of the USSR."))
ggplot(emissions_agg, aes(x = year, y = emissions, fill = commodity)) +
geom_stream() +
geom_text(data = text_df, inherit.aes = FALSE,
color = strong_text,
label = paste("USSR Dissolution"),
aes(x = year, y = emissions)) +
geom_vline(xintercept = 1991,
color = weak_text) +
facet_wrap(parent_type ~., ncol = 1) +
scale_fill_manual(values = myPal, name = "") +
labs(title = "One Hundred Years of Emissions",
subtitle = my_subtitle) +
theme_minimal(base_size = 10) +
theme(
legend.position = "bottom",
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(1.75),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 8, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.15),
family = "Roboto",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, -8, 0, 10)),
axis.text.y = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.25),
colour = strong_text),
text = element_text(colour = strong_text, lineheight = 1.1)
)
text_df <- data.frame(emissions = 6050,
year = 2002,
parent_type = "Investor-owned Company")
ggplot(emissions_agg, aes(x = year, y = emissions, fill = commodity)) +
geom_stream() +
geom_text(data = text_df, inherit.aes = FALSE,
color = strong_text,
label = paste("USSR Dissolution"),
aes(x = year, y = emissions)) +
geom_vline(xintercept = 1991,
color = weak_text) +
facet_wrap(parent_type ~., ncol = 1) +
scale_fill_manual(values = myPal, name = "") +
labs(title = "One Hundred Years of Emissions",
subtitle = my_subtitle) +
theme_minimal(base_size = 10) +
theme(
legend.position = "bottom",
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(1.75),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 8, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.15),
family = "Roboto",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, -8, 0, 10)),
axis.text.y = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.25),
colour = strong_text),
text = element_text(colour = strong_text, lineheight = 1.1)
)
text_df <- data.frame(emissions = 6250,
year = 2002,
parent_type = "Investor-owned Company")
ggplot(emissions_agg, aes(x = year, y = emissions, fill = commodity)) +
geom_stream() +
geom_text(data = text_df, inherit.aes = FALSE,
color = strong_text,
label = paste("USSR Dissolution"),
aes(x = year, y = emissions)) +
geom_vline(xintercept = 1991,
color = weak_text) +
facet_wrap(parent_type ~., ncol = 1) +
scale_fill_manual(values = myPal, name = "") +
labs(title = "One Hundred Years of Emissions",
subtitle = my_subtitle) +
theme_minimal(base_size = 10) +
theme(
legend.position = "bottom",
panel.grid = element_blank(),
panel.background = element_rect(fill = back_colour,
color = back_colour),
plot.background = element_rect(fill = back_colour,
colour = back_colour),
plot.caption.position = "plot",
plot.title.position = "plot",
plot.title = element_textbox_simple(size = rel(1.75),
family = main_font,
face = "bold",
color = strong_text,
margin = margin(8, 0, 8, 4)),
plot.subtitle = element_textbox_simple(size = rel(1.15),
family = "Roboto",
colour = weak_text,
margin = margin(0, 0, 12, 4)),
axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x = element_text(size = rel(1.1),
family = "Roboto",
face = "bold",
colour = strong_text,
margin = margin(0, -8, 0, 10)),
axis.text.y = element_blank(),
plot.caption = element_markdown(size = rel(0.8),
colour = weak_text,
family = "Roboto",
# family = "Bangers",
hjust = 1,
margin = margin(8,0,0,8)),
strip.text = element_text(family = main_font,
hjust = 0.5,
size = rel(1.25),
colour = strong_text),
text = element_text(colour = strong_text, lineheight = 1.1)
)
